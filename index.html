<html>
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link href="https://fonts.googleapis.com/css?family=Encode+Sans|Encode+Sans+Condensed:400,900|Open+Sans" rel="stylesheet">
    <link rel="stylesheet" href="//cdn.jsdelivr.net/chartist.js/latest/chartist.min.css">
    <link href="/assets/css/style.css" rel="stylesheet">
  </head>
  <body>
    <div class="header">
      <div class="container">
        <img src="/assets/img/uw-logo-white.png" class="logo" />
        <img src="/assets/img/uw-wordmark-white.png" class="wordmark" />
      </div>
    </div>
    <div class="wrapper">
      <nav data-gumshoe-header class="nav">
        <div class="nav-header">
          <span>Navigation</span>
        </div>
        <ul data-gumshoe>
          <li class="label">Intro</li>
          <li><a href="#auxiliary">HFS: Auxiliary and Self-Sustaining</a></li>
          <li class="label">Common Questions</li>
          <li><a href="#oncampus">What distinguishes HFS from off-campus housing?</a></li>
          <li><a href="#mealplan">Why do I have to have a meal plan?</a></li>
          <li><a href="#retaildining">Why does HFS have a retail dining model?</a></li>
          <li class="label">The Numbers</li>
          <li><a href="#revenue">Revenue</a></li>
        </ul>
      </nav>
      <div class="content">
        <div class="hero"></div>
        <div class="container overlap">
          <h1 class="title">Questions about HFS?</h1>
          <p class="intro">
            Many students have questions about HFS budgeting. What do my housing payments go towards? Why are rates the way they are? It is important for students to understand the answers to these questions. This site is a quick intro to HFS budgeting!
          </p>

          <h2 id="auxiliary">HFS: Auxiliary and Self-Sustaining</h2>
          <p>
            HFS is an <b>independent department</b> of the University of Washington. It must follow all University policies and help offset administrative overhead, but it receives no support for it's operations. That means it must keep a close eye on where money is going, because there's nobody to bail them out if funds run out!
          </p>
          <p>
            So, what does this mean for you?
          </p>
          <ul>
            <li>HFS receives no direct funding for its operations from the UW budget.</li>
            <li>HFS operations are funded through housing payments and food sales.</li>
            <li>HFS operates as not-for-profit. Any revenue in excess of operational costs is rolled into reserves to fund operational and infrastructure improvements, or to mitigate housing and food costs to students.</li>
            <li>HFS residents pay the lowest average amount for dining services of any university in Washington.</li>
            <li>HFS is one of the largest employers of students on the UW campus, with about 900 student-employees.</li>
          </ul>

          <h1>Common Questions</h1>

          <h2 id="oncampus">What distinguishes HFS from off-campus housing?</h2>
          <p>
            Since HFS is part of the University of Washington, everything it does supports the University's mission by contributing to student success. Students living on-campus have access to many great resources that are simply not possible in off-campus housing.
          </p>
          <p>
            So, what does this mean for you?
          </p>
          <ul>
            <li>Resident Advisors living alongside students in the halls serve as a resource for social and academic matters.</li>
            <li>Residents follow a set of Community Standards to ensure students live in an environment where they can study well and live well.</li>
            <li>Residents have access to leadership opportunities such as Hall Council, RCSA, the Dining Advisory Board, and the BAC.</li>
            <li>Students are able to cancel their housing agreement <i>without charge</i> for academic purposes such as study abroad.</li>
            <li>HFS hires students to give them opportunities to earn money and learn through work experience.</li>
          </ul>

          <h2 id="mealplan">Why do I have to have a meal plan?</h2>
          <p>
            HFS operates 37 locations around campus and requires meal plans for most 9-month residents. Why?
          </p>
          <ul>
            <li>To ensure students have access to healthy and convenient dining services.</li>
            <li>To support students transitioning into college life.</li>
            <li>To enable students to adequately plan and pay for food.</li>
          </ul>

          <h2 id="retaildining">Why does HFS have a retail dining model?</h2>
          <p>
            The retail dining model gives students a variety of food options including meeting special dietary needs, flexibility in times of operations, and portability in providing locations to use the dining plan on-campus.
          </p>
          <p>
            The University of Washington operates its own dining program as opposed to hiring a private contractor. What does this mean for you?
          </p>
          <ul>
            <li>The dining program operates to satisfy University needs, not investor needs.</li>
            <li>HFS can more easily hire students and involve academic departments to due proximity and relationships.</li>
            <li>Internal operations can be more flexible, reacting faster to concerns and requests.</li>
          </ul>

          <h1>The Numbers</h1>

          <h2 id="revenue">Revenue</h2>
          <div class="revenue-chart ct-perfect-fourth chart chart-diminished chart-tappable">
            <div class="chart-content">
              <h3>Revenues</h3>
            </div>
          </div>

          <div class="revenue-other-chart ct-perfect-fourth chart chart-diminished chart-tappable">
            <div class="chart-content">
              <div>
                <h3 style="text-align: center">Other Revenue<br/>Breakdown</h3>
              </div>
            </div>
          </div>

          <div class="chart-more-info">
            <h3 id="revenue-info-placeholder">Tap any section of the revenue charts to read more info here!</h3>
            <h3 id="revenue-info-title-container" class="hidden"><span id="revenue-info-title">Conference Revenue</span>: <span id="revenue-info-value">$6,717,500</span></h3>
            <p id="revenue-info-desc" class="hidden">UW hosts interns for various companies in the Seattle area during the summer, offsetting your housing costs!</p>
          </div>
        </div>
      </div>
    </div>

    <script src="/assets/js/gumshoe.min.js"></script>
    <script src="https://d3js.org/d3.v4.min.js"></script>
    <script src="//cdn.jsdelivr.net/chartist.js/latest/chartist.min.js"></script>
    <script>
    	gumshoe.init();

      function toCase(x) {
        return x.replace(/\s+/g, '-').toLowerCase();
      }

      function onHover(prefix, dataset, id) {
        const data = dataset.data.filter(data => toCase(data.name) == id)[0];

        if(typeof(data) != 'undefined') {
          document.getElementById(prefix + '-placeholder').classList.add('hidden');
          document.getElementById(prefix + '-title-container').classList.remove('hidden');
          document.getElementById(prefix + '-desc').classList.remove('hidden');

          document.getElementById(prefix + '-title').innerHTML = data.name;
          document.getElementById(prefix + '-value').innerHTML = dataset.format(data.value);
          document.getElementById(prefix + '-desc').innerHTML = data.desc || '';
        }
      }

      function onHoverPlugin(prefix, data) {
        return function onHoverPlugin(chart) {
          const $chart = chart.container;
          $chart.addEventListener('mousedown', e => e.target.localName == 'text' ?
            onHover(prefix, data, toCase(e.target.textContent.split(':')[0])) :
            onHover(prefix, data, e.target.parentElement.classList.item(1)))
        }
      }

      function generatePieData(arr) {
        return {
          labels: arr.map(data => data.name),
          series: arr.map(data => {
            return {
              name: data.name,
              className: toCase(data.name),
              value: data.value
            }
          })
        }
      }

      function withCommas(x) {
        return x.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
      }

      const revenueData = {
        format: x => x + '%',
        data: [
          {
            name: 'Student Housing',
            value: 66,
            desc: 'Total revenues for student housing are $81,972,921.'
          },
          {
            name: 'Food Sales',
            value: 21,
            desc: 'Total revenues for student housing are $46,868,880.'
          },
          {
            name: 'Other',
            value: 13,
            desc: 'Check the breakdown for more information on other revenue sources!'
          }
        ]
      }
      const revenuePieData = generatePieData(revenueData.data);
      new Chartist.Pie('.revenue-chart',
        revenuePieData, {
          donut: true,
          plugins: [onHoverPlugin('revenue-info', revenueData)],
          labelInterpolationFnc: (label, index) => {
            return label + ': ' + revenueData.format(revenueData.data[index].value)
          }
        }
      )

      const revenueOtherData = {
        format: x => '$' + withCommas(x),
        data: [
          {
            name: 'Conference Revenue',
            value: 6717500,
            desc: 'UW hosts interns for various companies in the Seattle area during the summer, offsetting your housing costs!'
          },
          { name: 'Catering', value: 4081990 },
          { name: 'Athletics', value: 1278820 },
          {
            name: 'Forfeitures and Fees',
            value: 1266748,
            desc: 'HFS charges internal UW dining units a 33% fee to help operate dining plans.'
          },
          { name: 'Laundry', value: 451830 },
          { name: 'Vending Commissions', value: 678474 },
          { name: 'Other Food Service', value: 60420 }
        ]
      }
      const revenueOtherPieData = generatePieData(revenueOtherData.data);
      new Chartist.Pie('.revenue-other-chart',
        revenueOtherPieData, {
          donut: true,
          plugins: [onHoverPlugin('revenue-info', revenueOtherData)],
          labelInterpolationFnc: (label, index) => {
            return label + ': ' + revenueOtherData.format(revenueOtherData.data[index].value)
          }
        },
        [
          ['screen and (max-width: 500px)', {
            showLabel: false,
            donutWidth: 20
          }]
        ]
      )
    </script>
  </body>
</html>
